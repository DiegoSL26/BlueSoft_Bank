
@{
    Layout = "_Layout";
}

<script>
    function getWithdrawalClientInfo() {
        var table = document.querySelector('table tbody');
        var url = '@Url.Action("GetWithdrawalClientInfo", "Admin")';
        $.get(url, function (transactions) {
                table.innerHTML = "";
            transactions.forEach(transaction => {
                    var row = table.insertRow();
                    var cell1 = row.insertCell(0);
                    var cell2 = row.insertCell(1);
                    var cell3 = row.insertCell(2);
                    var cell4 = row.insertCell(3);
                    var cell5 = row.insertCell(4);
                    var cell6 = row.insertCell(5);
                    var cell7 = row.insertCell(6);
                    cell1.innerHTML = transaction.clienteId;
                    cell2.innerHTML = transaction.cliente.nombre;
                    cell3.innerHTML = transaction.cliente.apellido;
                    cell4.innerHTML = "$" + transaction.monto;
                    cell5.innerHTML = transaction.cuentaId;
                    cell6.innerHTML = transaction.cuenta.ciudad;
                    cell7.innerHTML = transaction.ciudadOrigen;
                })
            })
    }

    document.addEventListener("DOMContentLoaded", getWithdrawalClientInfo)
</script>

<div class="container text-center">
    <h1>Withdrawal Report</h1>
    <p>Here you can see the clients with withdrawals over of $1.000.000 from outside of the origin city of the account</p>
    <div class="row mt-5">
        <div class="col">
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th scope="col">Client ID</th>
                        <th scope="col">Client name</th>
                        <th scope="col">Client surname</th>
                        <th scope="col">Amount</th>
                        <th scope="col">Account number</th>
                        <th scope="col">Account origin city</th>
                        <th scope="col">Withdrawal city</th>
                    </tr>
                </thead>
                <tbody>
                </tbody>
            </table>
        </div>
    </div>
</div>
